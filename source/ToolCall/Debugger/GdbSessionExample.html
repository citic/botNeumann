<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>GDB example session</title>
	<style>
		body { padding: 1em 2em; font-family: sans-serif; font-size: small; }
		table { width: 100%; }
		h3 { font-family: monospace; margin: 3em 0 0 0; background: lightblue; padding: 0.5em; border-radius: 0.5em; }
		td { vertical-align: top; border-radius: 0.5em; }
		td:first-child { background: rgba(144, 238, 144, 0.5); width: 50%; }
		td:last-child { background: lightgray; width: 50%; }
		pre { padding: .5em 1em; white-space: pre-wrap; width: 30em; }
		p { margin-top: 0; }
		hr { border: 0; height: 0; border-top: 1px solid rgba(0, 0, 0, 0.1); border-bottom: 1px solid rgba(255, 255, 255, 0.3); }
	</style>
</head>
<body>

<h2>GDB MI example session</h2>
<p>Commands sent to GDB are in titles. Output generated by GDB is on the left.
	Reponse received by GDB parser is on the right. The action taken by botNeumann++ is at the end on the right.
	Mapping of first symbol to the type of response:</p>

<pre>
*     onExecAsyncOut
=     onNotifyAsyncOut
~     onConsoleStreamOutput
^     onResult
(gdb) TERMINATOR
</pre>

<h3>$ gdb -q -i mi</h3>
<table>
	<tr>
		<td><pre>=thread-group-added,id="i1"
(gdb)</pre></td>
		<td><pre>onNotifyAsyncOut: ignored
GdbResponse::TERMINATOR: ignored</pre></td>
	</tr>
</table>
<p>Calls GDB from command line.</p>



<h3>-inferior-tty-set /dev/pts/2</h3>
<table>
	<tr>
		<td><pre>^done
(gdb)</pre></td>
		<td><pre>onResult: ignored
GdbResponse::TERMINATOR: ignored</pre></td>
	</tr>
</table>
<p>Sets the pseudoterminal. Only in Unix-like OS. Output</p>



<h3>-file-exec-and-symbols "rand"</h3>
<table>
	<tr>
		<td><pre>^done
(gdb)</pre></td>
		<td><pre>onResult: ignored
GdbResponse::TERMINATOR: ignored</pre></td>
	</tr>
</table>
<p>Tells debugger the executable filename to debug.</p>



<h3>-exec-arguments "0" "75"</h3>
<table>
	<tr>
		<td><pre>^done
(gdb)</pre></td>
		<td><pre>onResult: ignored
GdbResponse::TERMINATOR: ignored</pre></td>
	</tr>
</table>
<p>Send the command line arguments to inferior.</p>



<h3>-break-insert "rand.c:25"</h3>
<table>
	<tr>
    <td><pre>^done,bkpt=
{
  number="1",
  type="breakpoint",
  disp="keep",
  enabled="y",
  addr="0x0000000000400795",
  func="main",
  file="rand.c",
  fullname="/full/path/to/rand.c",
  line="25",
  thread-groups=["i1"],
  times="0",
  original-location="rand.c:25"
}
<hr/>
(gdb)</pre></td>
		<td><pre>onResult: Visualizator add/update DebuggerBreakpoint













<hr/>
GdbResponse::TERMINATOR: ignored</pre></td>
	</tr>
</table>
<p>Set all breakpoints currently defided by user on GUI or preferences.</p>


<h3>-break-insert -f main</h3>
<table>
	<tr>
		<td><pre>^done,bkpt=
{
  number="2",
  type="breakpoint",
  disp="keep",
  enabled="y",
  addr="0x0000000000400695",
  func="main",
  file="rand.c",
  fullname="/full/path/to/rand.c",
  line="7",
  thread-groups=["i1"],
  times="0",
  original-location="main"
}
<hr/>
(gdb)</pre></td>
		<td><pre>onResult: /bkpt
Visualizator::updateDebuggerBreakpoint(node)













<hr/>
GdbResponse::TERMINATOR: ignored</pre></td>
	</tr>
</table>
<p>botNeumann always set a hidden breakpont at main() function</p>



<h3>-file-list-exec-source-files</h3>
<table>
	<tr>
		<td><pre>^done,files=
[
  {
    file="rand.c",
    fullname="/full/path/to/rand.c"
  }
]
<hr/>
(gdb)
</pre></td>
		<td><pre>(Gede updates tree control)
</pre></td>
	</tr>
</table>
<p>Not called by botNeumann, because <code>PlayerSolution</code> object already knows the list of source files. Gede updates the tree control with source code files.</p>






<h3>-exec-run</h3>
<table>
	<tr>
		<td><pre>=thread-group-started,id="i1",pid="12630"
<hr/>
=thread-created,id="1",group-id="i1"
<hr/>
=library-loaded,id="/lib64/ld-linux-x86-64.so.2",target-name="/lib64/ld-linux-x86-64.so.2",host-name="/lib64/ld-linux-x86-64.so.2",symbols-loaded="0",thread-group="i1"
<hr/>
^running
<hr/>
*running,thread-id="all"
<hr/>
(gdb)
<hr/>
=library-loaded,id="/lib/x86_64-linux-gnu/libc.so.6",target-name="/lib/x86_64-linux-gnu/libc.so.6",host-name="/lib/x86_64-linux-gnu/libc.so.6",symbols-loaded="0",thread-group="i1"
<hr/>
=breakpoint-modified,bkpt=
{
  number="2",
  type="breakpoint",
  disp="keep",
  enabled="y",
  addr="0x0000000000400695",
  func="main",
  file="rand.c",
  fullname="/full/path/to/rand.c",
  line="7",
  thread-groups=["i1"],
  times="1",
  original-location="main"
}
<hr/>
~"\n"
<hr/>
~"Breakpoint 2, main (argc=1, argv=0x7fffffffdfb8) at rand.c:7\n"
<hr/>
~"7\t\tunsigned long long seed = time(NULL);\n"
<hr/>
*stopped,
reason="breakpoint-hit",
disp="keep",
bkptno="2",
frame=
{
  addr="0x0000000000400695",
  func="main",
  args=
  [
    {name="argc",value="1"},
    {name="argv",value="0x7fffffffdfb8"}
  ],
  file="rand.c",
  fullname="/full/path/to/rand.c",
  line="7"
},
thread-id="1",
stopped-threads="all",
core="6"
<hr/>
(gdb)
</pre></td>

<td><pre>onNotifyAsyncOut: ignored
<hr/>
onNotifyAsyncOut: <b>cmd("-thread-info")</b>
<hr/>
?onLogStreamOutput: ignored



<hr/>
onResult: ignored
<hr/>
onExecAsyncOut: AC_RUNNING
<hr/>
GdbResponse::TERMINATOR: ignored
<hr/>
?onLogStreamOutput: ignored



<hr/>
onNotifyAsyncOut: AC_BREAKPOINT_MODIFIED
Visualizator::updateDebuggerBreakpoint()














<hr/>
onConsoleStreamOutput(): print to user
<hr/>
onConsoleStreamOutput(): print to user

<hr/>
onConsoleStreamOutput(): print to user
<hr/>
onExecAsyncOut(TARGET_STOPPED)
<b>cmd("-list-thread-groups")
cmd("-thread-info")
cmd("-var-update --all-values *")
cmd("-stack-list-locals 1")</b>















<hr/>
(gdb)
</pre></td>
	</tr>
</table>




<h3>-thread-info</h3>
<table>
	<tr>
		<td><pre>^done,threads=
[
  {
    id="1",
    target-id="process 20523",
    name="rand",
    frame=
    {
      level="0",
      addr="0x0000000000400695",
      func="main",
      args=
      [
        {name="argc",value="3"},
        {name="argv",value="0x7fffffffdfa8"}
      ],
      file="rand.c",
      fullname="/full/path/to/rand.c",
      line="7"
    },
    state="stopped",
    core="7"
  }
],
current-thread-id="1"
<hr/>
(gdb)
</pre></td>
		<td><pre>
</pre></td>
	</tr>
</table>





<h3>-list-thread-groups</h3>
<table>
<tr>
<td>
<pre>^done,groups=
[
  {
    id="i1",
    type="process",
    pid="8151",
    executable="/full/path/to/rand",
    cores=["0"]
  }
]
<hr/>
(gdb)
</pre>
</td>
<td>
<pre>botNeumannReaction
</pre>
</td>
</tr>
</table>





<h3>-var-update --all-values *</h3>
<table>
<tr>
<td>
<pre>^done,changelist=[]
<hr/>
(gdb)
</pre>
</td>
<td>
<pre>botNeumannReaction
</pre>
</td>
</tr>
</table>





<h3>-stack-list-locals 1</h3>
<table>
<tr>
<td>
<pre>^done,locals=
[
  {
    name="seed",
    value="140737488347008"
  },
  {
    name="min",
    value="4196464"
  },
  {
    name="max",
    value="4195904"
  },
  {
    name="random",
    value="0"
  }
]
<hr/>
(gdb)
</pre>
</td>
<td>
<pre>botNeumannReaction
</pre>
</td>
</tr>
</table>





<h3>gdbCommand</h3>
<table>
<tr>
<td>
<pre>gdbOutput
</pre>
</td>
<td>
<pre>botNeumannReaction
</pre>
</td>
</tr>
</table>





<h3>gdbCommand</h3>
<table>
<tr>
<td>
<pre>gdbOutput
</pre>
</td>
<td>
<pre>botNeumannReaction
</pre>
</td>
</tr>
</table>





<h3>quit</h3>
<table>
	<tr>
		<td><pre>&amp;"quit\n"
=thread-exited,id="1",group-id="i1"
=thread-group-exited,id="i1"
</pre></td>
		<td><pre>
</pre></td>
	</tr>
</table>



</body>
</html>
